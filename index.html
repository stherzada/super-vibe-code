<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creative Frontend Developer</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Syne:wght@400;700;800&display=swap"
        rel="stylesheet">

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Lenis (Smooth Scroll) -->
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #050505;
            color: #ffffff;
            font-family: 'Space Grotesk', sans-serif;
            overflow-x: hidden;
            /* Hide default scrollbar */
        }

        h1,
        h2,
        h3,
        .display-font {
            font-family: 'Syne', sans-serif;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            pointer-events: none;
        }

        /* Custom Scrollbar Hide */
        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .text-gradient {
            background: linear-gradient(to right, #fff, #888);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .magnetic-btn {
            transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Stroke Text Utility */
        .stroke-text {
            -webkit-text-stroke: 2px rgba(255, 255, 255, 0.5);
            color: transparent;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // Ensure GSAP plugins are registered
        gsap.registerPlugin(ScrollTrigger);

        // --- COMPONENTS ---

        // 1. Background 3D Scene
        const Scene3D = () => {
            const mountRef = useRef(null);

            useEffect(() => {
                // Capture the mount node immediately to prevent cleanup errors
                const mountNode = mountRef.current;

                if (!mountNode) return;

                const scene = new THREE.Scene();
                // Slight fog for depth
                scene.fog = new THREE.FogExp2(0x050505, 0.03);

                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 5;

                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                mountNode.appendChild(renderer.domElement);

                // Particles
                const particlesGeometry = new THREE.BufferGeometry();
                const particlesCount = 2000;
                const posArray = new Float32Array(particlesCount * 3);

                for (let i = 0; i < particlesCount * 3; i++) {
                    posArray[i] = (Math.random() - 0.5) * 15;
                }

                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
                const particlesMaterial = new THREE.PointsMaterial({
                    size: 0.02,
                    color: 0x888888,
                    transparent: true,
                    opacity: 0.5,
                });
                const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
                scene.add(particlesMesh);

                // Main Abstract Shape (Icosahedron)
                const geometry = new THREE.IcosahedronGeometry(1.5, 0);
                const material = new THREE.MeshStandardMaterial({
                    color: 0x1a1a1a,
                    roughness: 0.1,
                    metalness: 0.8,
                    wireframe: true
                });
                const mainShape = new THREE.Mesh(geometry, material);
                scene.add(mainShape);

                // Inner Glow Shape
                const innerGeo = new THREE.IcosahedronGeometry(1.2, 1);
                const innerMat = new THREE.MeshBasicMaterial({
                    color: 0x4f46e5, // Indigo-600
                    wireframe: true,
                    transparent: true,
                    opacity: 0.2
                });
                const innerShape = new THREE.Mesh(innerGeo, innerMat);
                scene.add(innerShape);

                // Lights
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
                scene.add(ambientLight);

                const pointLight = new THREE.PointLight(0x6366f1, 2);
                pointLight.position.set(2, 3, 4);
                scene.add(pointLight);

                const pointLight2 = new THREE.PointLight(0xffffff, 1);
                pointLight2.position.set(-2, -3, 4);
                scene.add(pointLight2);

                // Mouse Interaction
                let mouseX = 0;
                let mouseY = 0;

                const handleMouseMove = (event) => {
                    mouseX = event.clientX / window.innerWidth - 0.5;
                    mouseY = event.clientY / window.innerHeight - 0.5;
                };
                window.addEventListener('mousemove', handleMouseMove);

                // Animation Loop
                const clock = new THREE.Clock();
                let animationId;

                const animate = () => {
                    const elapsedTime = clock.getElapsedTime();

                    // Rotate shapes
                    mainShape.rotation.y += 0.003;
                    mainShape.rotation.x += 0.002;
                    innerShape.rotation.y -= 0.005;

                    // Mouse parallax
                    particlesMesh.rotation.y = -mouseX * 0.5;
                    particlesMesh.rotation.x = -mouseY * 0.5;

                    mainShape.rotation.y += mouseX * 0.05;
                    mainShape.rotation.x += mouseY * 0.05;

                    renderer.render(scene, camera);
                    animationId = requestAnimationFrame(animate);
                };
                animate();

                // Scroll Interaction via GSAP
                // We need to wait for GSAP to be ready, effectively

                const ctx = gsap.context(() => {
                    gsap.to(mainShape.rotation, {
                        scrollTrigger: {
                            trigger: "body",
                            start: "top top",
                            end: "bottom bottom",
                            scrub: 2,
                        },
                        x: Math.PI * 2,
                        y: Math.PI * 2
                    });

                    gsap.to(camera.position, {
                        scrollTrigger: {
                            trigger: "body",
                            start: "top top",
                            end: "bottom bottom",
                            scrub: 2,
                        },
                        z: 2 // Zoom in as we scroll
                    });
                });

                // Resize Handle
                const handleResize = () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                };
                window.addEventListener('resize', handleResize);

                // Cleanup function
                return () => {
                    window.removeEventListener('resize', handleResize);
                    window.removeEventListener('mousemove', handleMouseMove);
                    cancelAnimationFrame(animationId);

                    // Dispose resources
                    geometry.dispose();
                    material.dispose();
                    innerGeo.dispose();
                    innerMat.dispose();
                    particlesGeometry.dispose();
                    particlesMaterial.dispose();
                    renderer.dispose();

                    ctx.revert();

                    // Use the captured variable for DOM cleanup
                    if (mountNode && renderer.domElement) {
                        mountNode.removeChild(renderer.domElement);
                    }
                };
            }, []);

            return <div ref={mountRef} id="canvas-container" />;
        };

        // 2. Navbar
        const Navbar = () => {
            return (
                <nav className="fixed top-0 w-full flex justify-between items-center p-8 z-50 mix-blend-difference text-white">
                    <div className="text-2xl font-bold tracking-tighter font-['Syne']">DEV.OS</div>
                    <div className="hidden md:flex gap-8 text-sm uppercase tracking-widest font-medium">
                        <a href="#work" className="hover:text-indigo-400 transition-colors cursor-pointer">Work</a>
                        <a href="#about" className="hover:text-indigo-400 transition-colors cursor-pointer">About</a>
                        <a href="#contact" className="hover:text-indigo-400 transition-colors cursor-pointer">Contact</a>
                    </div>
                    <div className="md:hidden">
                        {/* Mobile Menu Icon placeholder */}
                        <div className="w-6 h-0.5 bg-white mb-1"></div>
                        <div className="w-6 h-0.5 bg-white"></div>
                    </div>
                </nav>
            );
        };

        // 3. Hero Section
        const Hero = () => {
            const titleRef = useRef(null);
            const subtitleRef = useRef(null);

            useLayoutEffect(() => {
                const ctx = gsap.context(() => {
                    gsap.from(titleRef.current.children, {
                        y: 100,
                        opacity: 0,
                        duration: 1.5,
                        stagger: 0.1,
                        ease: "power4.out",
                        delay: 0.5
                    });

                    gsap.from(subtitleRef.current, {
                        y: 20,
                        opacity: 0,
                        duration: 1,
                        ease: "power3.out",
                        delay: 1.5
                    });
                });
                return () => ctx.revert();
            }, []);

            return (
                <section className="h-screen w-full flex flex-col justify-center items-center relative px-4">
                    <div ref={titleRef} className="text-center z-10 mix-blend-exclusion">
                        <h1 className="text-[12vw] leading-[0.8] font-extrabold text-transparent bg-clip-text bg-white stroke-white tracking-tighter hover:tracking-normal transition-all duration-700">
                            CREATIVE
                        </h1>
                        <h1 className="text-[12vw] leading-[0.8] font-extrabold text-white tracking-tighter">
                            DEVELOPER
                        </h1>
                    </div>
                    <div ref={subtitleRef} className="mt-8 flex flex-col items-center gap-4 z-10">
                        <p className="text-gray-400 text-sm md:text-base uppercase tracking-[0.2em]">
                            Crafting Digital Experiences
                        </p>
                        <div className="animate-bounce mt-8">
                            <i data-lucide="arrow-down" className="w-6 h-6 text-white opacity-50"></i>
                        </div>
                    </div>
                </section>
            );
        };

        // 4. Projects Section with Parallax Cards
        const Projects = () => {
            const projects = [
                { id: 1, title: "Nebula OS", category: "WebGL Interface", image: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop" },
                { id: 2, title: "Kinetic Flow", category: "E-Commerce", image: "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564&auto=format&fit=crop" },
                { id: 3, title: "Zenith", category: "AI Platform", image: "https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=2574&auto=format&fit=crop" },
            ];

            const sectionRef = useRef(null);

            useLayoutEffect(() => {
                // Horizontal scroll logic or simple parallax fade up
                const ctx = gsap.context(() => {
                    gsap.utils.toArray('.project-card').forEach((card, i) => {
                        gsap.from(card, {
                            scrollTrigger: {
                                trigger: card,
                                start: "top bottom-=100",
                                toggleActions: "play none none reverse"
                            },
                            y: 100,
                            opacity: 0,
                            duration: 0.8,
                            ease: "power3.out"
                        });
                    });
                }, sectionRef);
                return () => ctx.revert();
            }, []);

            return (
                <section id="work" ref={sectionRef} className="min-h-screen py-24 px-4 md:px-12 relative z-10">
                    <div className="mb-24">
                        <h2 className="text-6xl md:text-8xl font-bold opacity-90">Selected<br />Work</h2>
                        <div className="h-1 w-24 bg-indigo-500 mt-6"></div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-12 md:gap-24">
                        {projects.map((project, index) => (
                            <div
                                key={project.id}
                                className={`project-card group relative cursor-pointer ${index % 2 !== 0 ? 'md:mt-32' : ''}`}
                            >
                                <div className="overflow-hidden rounded-lg aspect-[4/3] mb-6 relative">
                                    <div className="absolute inset-0 bg-indigo-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10 mix-blend-overlay"></div>
                                    <img
                                        src={project.image}
                                        alt={project.title}
                                        className="object-cover w-full h-full transform group-hover:scale-110 transition-transform duration-700 ease-in-out"
                                    />
                                </div>
                                <div className="flex justify-between items-end border-b border-white/20 pb-4">
                                    <div>
                                        <h3 className="text-3xl md:text-4xl font-bold group-hover:text-indigo-400 transition-colors">{project.title}</h3>
                                        <p className="text-gray-400 mt-2">{project.category}</p>
                                    </div>
                                    <span className="text-2xl opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300">↗</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </section>
            );
        };

        // 5. Skills & About (Marquee style)
        const Skills = () => {
            const sliderRef = useRef(null);
            const triggerRef = useRef(null);

            useLayoutEffect(() => {
                const ctx = gsap.context(() => {
                    gsap.to(sliderRef.current, {
                        scrollTrigger: {
                            trigger: triggerRef.current,
                            start: "top bottom",
                            end: "bottom top",
                            scrub: 1
                        },
                        xPercent: -20,
                        ease: "none"
                    });
                });
                return () => ctx.revert();
            }, []);

            const skills = ["React", "Three.js", "WebGL", "Next.js", "TypeScript", "GSAP", "Node.js", "AWS"];

            return (
                <section id="about" ref={triggerRef} className="py-32 overflow-hidden relative z-10 bg-black/50 backdrop-blur-sm">
                    <div className="mb-16 px-4 md:px-12 text-center">
                        <p className="text-indigo-400 uppercase tracking-widest text-sm mb-4">My Stack</p>
                        <h2 className="text-4xl md:text-5xl font-light leading-tight max-w-4xl mx-auto">
                            Bridging the gap between <span className="text-white font-bold">design</span> and <span className="text-white font-bold">engineering</span> with pixel-perfect precision.
                        </h2>
                    </div>

                    {/* Infinite Text Marquee */}
                    <div ref={sliderRef} className="flex whitespace-nowrap text-[10vw] md:text-[8vw] font-bold leading-none opacity-20 select-none">
                        {skills.map((skill, i) => (
                            <span key={i} className="mx-8 font-['Syne'] stroke-text">{skill} • </span>
                        ))}
                        {skills.map((skill, i) => (
                            <span key={`dup-${i}`} className="mx-8 font-['Syne'] stroke-text">{skill} • </span>
                        ))}
                    </div>
                </section>
            );
        };

        // 6. Contact / Footer
        const Contact = () => {
            return (
                <section id="contact" className="min-h-[80vh] flex flex-col justify-center items-center px-4 text-center relative z-10">
                    <h2 className="text-[10vw] font-bold leading-none mb-8 bg-clip-text text-transparent bg-gradient-to-b from-white to-gray-900">
                        LET'S TALK
                    </h2>
                    <a href="mailto:hello@example.com" className="group relative inline-block">
                        <div className="text-2xl md:text-4xl border border-white/20 rounded-full px-8 py-4 bg-white/5 backdrop-blur-md group-hover:bg-white group-hover:text-black transition-all duration-500 flex items-center gap-4">
                            hello@dev.os
                            <i data-lucide="arrow-right" className="group-hover:rotate-45 transition-transform duration-300"></i>
                        </div>
                        <div className="absolute inset-0 rounded-full bg-indigo-500 blur-xl opacity-0 group-hover:opacity-40 transition-opacity duration-500 -z-10"></div>
                    </a>

                    <div className="absolute bottom-8 w-full flex justify-between px-8 text-xs text-gray-500 uppercase tracking-widest">
                        <div>© 2024 Dev OS</div>
                        <div className="flex gap-4">
                            <a href="#" className="hover:text-white">Twitter</a>
                            <a href="#" className="hover:text-white">LinkedIn</a>
                            <a href="#" className="hover:text-white">GitHub</a>
                        </div>
                    </div>
                </section>
            );
        };

        // 7. Custom Cursor (Optional polish)
        const Cursor = () => {
            const cursorRef = useRef(null);

            useEffect(() => {
                const cursor = cursorRef.current;
                if (!cursor) return;

                const moveCursor = (e) => {
                    gsap.to(cursor, {
                        x: e.clientX,
                        y: e.clientY,
                        duration: 0.1,
                        ease: "power2.out"
                    });
                };

                window.addEventListener('mousemove', moveCursor);
                return () => window.removeEventListener('mousemove', moveCursor);
            }, []);

            return (
                <div
                    ref={cursorRef}
                    className="fixed top-0 left-0 w-8 h-8 bg-white mix-blend-difference rounded-full pointer-events-none z-[100] -translate-x-1/2 -translate-y-1/2 hidden md:block"
                ></div>
            );
        };

        // --- MAIN APP COMPONENT ---
        const App = () => {
            // Initialize Lenis Smooth Scroll
            useEffect(() => {
                // Safely check for Lenis Global
                if (typeof window.Lenis === 'undefined') {
                    console.error('Lenis library not found');
                    return;
                }

                const lenis = new window.Lenis({
                    duration: 1.2,
                    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                    direction: 'vertical',
                    gestureDirection: 'vertical',
                    smooth: true,
                    mouseMultiplier: 1,
                    smoothTouch: false,
                    touchMultiplier: 2,
                });

                function raf(time) {
                    lenis.raf(time);
                    requestAnimationFrame(raf);
                }

                requestAnimationFrame(raf);

                // Initialize Lucide Icons
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, []);

            return (
                <div className="relative w-full">
                    <Cursor />
                    <Scene3D />
                    <Navbar />

                    <main>
                        <Hero />
                        <Projects />
                        <Skills />
                        <Contact />
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>